<html>
<head>
<script src="react/dist/react.js"></script>
<script src="react-dom/dist/react-dom.js"></script>
<script src="jquery/jquery.js"></script>
<script src="babel.min.js"></script>
</head>
<body>
<div id="greeting"></div>
<div id="logincontrol"></div>


<script type="text/babel">
 function UserGreeting(props){
   return <h1>Welcome back!</h1>
 }
 function GuestGreeting(props){
   return <h1>Please sign up.</h1>
 }
 function Greeting(props){
   const isLoggedIn=props.isLoggedIn
   if (isLoggedIn){
     return <UserGreeting />;
   }
   return <GuestGreeting />;
 }
 
	function LoginButton(props){
	  return (
     <button onClick={props.onClick}>登录     	
     </button>
	  )
	}

	function LogoutButton(props){
	  return(
     <button onClick={props.onClick}>
     退出登录
     </button>
	  )
	}
	class LoginControl extends React.Component{
	  constructor(props){
	    super(props)
	    this.handleLoginClick=this.handleLoginClick.bind(this)
	    this.handleLogoutClick=this.handleLoggoutClick.bind(this)
	    this.state={isLoggedIn:false}
	  }
	  handleLoginClick(){
	    this.setState({isLoggedIn:true})
	  }
	  handleLoggoutClick(){
	    this.setState({isLoggedIn:false})
	    console.log(this)
	  }

	  render(){
      const isLoggedIn =this.state.isLoggedIn
      let button =null
      if (isLoggedIn){
        button = <LogoutButton onClick ={this.handleLogoutClick} />
        }else {
        button = <LoginButton onClick={
        this.handleLoginClick}/>
        }
        return (
          <div>
           <Greeting isLoggedIn={isLoggedIn} />
           {button}
          </div>
        )
    }
	}
  ReactDOM.render(
  <LoginControl />,
  document.getElementById('logincontrol')
  )



</script>
</body>
</html>